{"ast":null,"code":"var _jsxFileName = \"/Users/yutianqifu/Desktop/Courses/5610/project3/cs5610-project3/src/component/Favorites.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios'; // Sorry this part is far beyond our capacity, we referenced from https://piazza.com/class/ktayt384zomhi?cid=332\n// Dilraj and Siyan Ma from our class are the original author to this part, we try to write our own version but we honestly don't know how to do that :(\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Favorites() {\n  _s();\n\n  let {\n    userName\n  } = useParams();\n  const [favorites, setFavoriteJobs] = useState([]);\n  const [allJobs, setAllJobs] = useState([]);\n\n  const getAllFavoriteIds = () => {\n    return axios.get('/api/user/findAllFavorites/' + userName).then(response => {\n      const favorites = response.data.favorites;\n      setFavoriteJobs(favorites);\n      return favorites;\n    }).catch(error => console.error(error));\n  };\n\n  const getAllJobsByIds = favs => {\n    return axios.post('/api/job/findAllJobsByIds', {\n      _id: favs\n    }).then(response => setAllJobs(response.data)).catch(error => console.log(error));\n  };\n\n  const getAllData = () => {\n    return getAllFavoriteIds().then(favs => getAllJobsByIds(favs));\n  };\n\n  useEffect(() => {\n    getAllData().then(() => {\n      console.log(favorites);\n      console.log(allJobs);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"vertical\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Favorited Jobs: (\", allJobs.length, \" jobs found)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), allJobs.map(job => /*#__PURE__*/_jsxDEV(Link, {\n      class: \"link\",\n      to: {\n        pathname: `/jobDetail/${job._id}`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 36,\n            fontWeight: \"bold\"\n          },\n          children: job.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 18\n          },\n          children: job.company\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 18\n          },\n          children: job.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Favorites, \"oKFfNOMpPUVROeYH+k71mIYTUJ4=\", false, function () {\n  return [useParams];\n});\n\n_c = Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","Navbar","axios","Favorites","userName","favorites","setFavoriteJobs","allJobs","setAllJobs","getAllFavoriteIds","get","then","response","data","catch","error","console","getAllJobsByIds","favs","post","_id","log","getAllData","length","map","job","pathname","textDecoration","fontSize","fontWeight","title","company","location"],"sources":["/Users/yutianqifu/Desktop/Courses/5610/project3/cs5610-project3/src/component/Favorites.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios';\n\n// Sorry this part is far beyond our capacity, we referenced from https://piazza.com/class/ktayt384zomhi?cid=332\n// Dilraj and Siyan Ma from our class are the original author to this part, we try to write our own version but we honestly don't know how to do that :(\nexport default function Favorites() {\n    let { userName } = useParams();\n\n    const [favorites, setFavoriteJobs] = useState([]);\n    const [allJobs, setAllJobs] = useState([]);\n    \n    const getAllFavoriteIds = () => {\n      return axios.get('/api/user/findAllFavorites/' + userName)\n        .then(response => {\n          const favorites = response.data.favorites;\n          setFavoriteJobs(favorites);\n          return favorites;\n        })\n        .catch(error => console.error(error));\n    };\n    \n    const getAllJobsByIds = (favs) => {\n      return axios.post('/api/job/findAllJobsByIds', { _id: favs })\n        .then(response => setAllJobs(response.data))\n        .catch(error => console.log(error));\n    };\n    \n    const getAllData = () => {\n      return getAllFavoriteIds()\n        .then(favs => getAllJobsByIds(favs));\n    };\n    \n    useEffect(() => {\n      getAllData().then(() => {\n        console.log(favorites);\n        console.log(allJobs);\n      });\n    }, []);\n\n    return (\n        <div class='vertical'>\n            <Navbar />\n            <h2>Favorited Jobs: ({allJobs.length} jobs found)</h2>\n            {allJobs.map(job =>\n                <Link class=\"link\" to={{ pathname: `/jobDetail/${job._id}` }}>\n                    <div class='box'>\n                        <span style={{textDecoration: 'none', fontSize: 36, fontWeight: \"bold\"}}>{job.title}</span>\n                        <span style={{textDecoration: 'none', fontSize: 18}}>{job.company}</span>\n                        <span style={{textDecoration: 'none', fontSize: 18}}>{job.location}</span>\n\n                    </div>\n                </Link>\n            )}\n\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}