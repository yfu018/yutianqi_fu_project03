{"ast":null,"code":"var _jsxFileName = \"/Users/xiaochenma/Desktop/xiaochen-ma-botao-shi-project3/src/component/Favorites.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios'; // Sorry this part is far beyond our capacity, we referenced from https://piazza.com/class/ktayt384zomhi?cid=332\n// Dilraj and Siyan Ma from our class are the original author to this part, we try to write our own version but we honestly don't know how to do that :(\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Favorites() {\n  _s();\n\n  let {\n    userName\n  } = useParams();\n  const [favorites, setFavoriteJobs] = useState([]);\n  const [allJobs, setAllJobs] = useState([]);\n\n  const getAllFavoriteIds = () => {\n    return axios.get('/api/user/findAllFavorites/' + userName).then(response => {\n      const favorites = response.data.favorites;\n      setFavoriteJobs(favorites);\n      return favorites;\n    }).catch(error => console.error(error));\n  };\n\n  const getAllJobsByIds = favs => {\n    return axios.post('/api/job/findAllJobsByIds', {\n      _id: favs\n    }).then(response => setAllJobs(response.data)).catch(error => console.log(error));\n  };\n\n  const getAllData = () => {\n    return getAllFavoriteIds().then(favs => getAllJobsByIds(favs));\n  };\n\n  useEffect(() => {\n    getAllData().then(() => {\n      console.log(favorites);\n      console.log(allJobs);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"vertical\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Favorited Jobs: (\", allJobs.length, \" jobs found)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), allJobs.map(job => /*#__PURE__*/_jsxDEV(Link, {\n      class: \"link\",\n      to: {\n        pathname: `/jobDetail/${job._id}`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 36,\n            fontWeight: \"bold\"\n          },\n          children: job.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 18\n          },\n          children: job.company\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: 'none',\n            fontSize: 18\n          },\n          children: job.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Favorites, \"oKFfNOMpPUVROeYH+k71mIYTUJ4=\", false, function () {\n  return [useParams];\n});\n\n_c = Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"sources":["/Users/xiaochenma/Desktop/xiaochen-ma-botao-shi-project3/src/component/Favorites.jsx"],"names":["React","useEffect","useState","Link","useParams","Navbar","axios","Favorites","userName","favorites","setFavoriteJobs","allJobs","setAllJobs","getAllFavoriteIds","get","then","response","data","catch","error","console","getAllJobsByIds","favs","post","_id","log","getAllData","length","map","job","pathname","textDecoration","fontSize","fontWeight","title","company","location"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios';\n\n// Sorry this part is far beyond our capacity, we referenced from https://piazza.com/class/ktayt384zomhi?cid=332\n// Dilraj and Siyan Ma from our class are the original author to this part, we try to write our own version but we honestly don't know how to do that :(\nexport default function Favorites() {\n    let { userName } = useParams();\n\n    const [favorites, setFavoriteJobs] = useState([]);\n    const [allJobs, setAllJobs] = useState([]);\n    \n    const getAllFavoriteIds = () => {\n      return axios.get('/api/user/findAllFavorites/' + userName)\n        .then(response => {\n          const favorites = response.data.favorites;\n          setFavoriteJobs(favorites);\n          return favorites;\n        })\n        .catch(error => console.error(error));\n    };\n    \n    const getAllJobsByIds = (favs) => {\n      return axios.post('/api/job/findAllJobsByIds', { _id: favs })\n        .then(response => setAllJobs(response.data))\n        .catch(error => console.log(error));\n    };\n    \n    const getAllData = () => {\n      return getAllFavoriteIds()\n        .then(favs => getAllJobsByIds(favs));\n    };\n    \n    useEffect(() => {\n      getAllData().then(() => {\n        console.log(favorites);\n        console.log(allJobs);\n      });\n    }, []);\n\n    return (\n        <div class='vertical'>\n            <Navbar />\n            <h2>Favorited Jobs: ({allJobs.length} jobs found)</h2>\n            {allJobs.map(job =>\n                <Link class=\"link\" to={{ pathname: `/jobDetail/${job._id}` }}>\n                    <div class='box'>\n                        <span style={{textDecoration: 'none', fontSize: 36, fontWeight: \"bold\"}}>{job.title}</span>\n                        <span style={{textDecoration: 'none', fontSize: 18}}>{job.company}</span>\n                        <span style={{textDecoration: 'none', fontSize: 18}}>{job.location}</span>\n\n                    </div>\n                </Link>\n            )}\n\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}