{"ast":null,"code":"var _jsxFileName = \"/Users/xiaochenma/Desktop/xiaochen-ma-botao-shi-project3/src/component/JobDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useParams } from 'react-router';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios';\nimport dateFormat from \"dateformat\"; // All good\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function JobDetail() {\n  _s();\n\n  const [user, setUser] = useState();\n  const [Job, setJob] = useState([]);\n  const [favorite, setFavorite] = useState(0);\n  const [buttonText, setButtonText] = useState('Favorite');\n  const [created, setCreatedJob] = useState(false);\n  let {\n    jobId\n  } = useParams();\n  let navigate = useNavigate();\n\n  function userLoggedIn() {\n    axios.get('/api/user/userLoggedIn').then(response => {\n      setUser(response.data);\n    }).catch(error => console.error(error));\n  }\n\n  useEffect(userLoggedIn, []);\n\n  function findJob() {\n    axios.get('http://localhost:8000/api/job/findJobById/' + jobId).then(response => {\n      setJob(response.data);\n    }).catch(error => console.error(error));\n  }\n\n  useEffect(findJob, []);\n\n  function favoriteJob() {\n    if (favorite === 0) {\n      axios.post('/api/user/addFavorite/' + user + '/' + jobId).then(response => {\n        console.log(response);\n      }).catch(error => console.error(error));\n      setFavorite(1);\n      setButtonText(\"Unfavorite\");\n    } else {\n      axios.delete('/api/user/deleteFavorite/' + user + '/' + jobId).then(response => {\n        console.log(response);\n      }).catch(error => console.error(error));\n      setFavorite(0);\n      setButtonText(\"Favorite\");\n    }\n  }\n\n  if (user) {\n    axios.get('/api/user/findAllFavorites/' + user).then(response => {\n      let favoriteJob = response.data.favorites;\n\n      if (favoriteJob.includes(jobId)) {\n        setFavorite(1);\n      }\n    }).catch(error => console.error(error));\n    axios.get('/api/user/findAllCreated/' + user).then(response => {\n      let createdJob = response.data.created;\n\n      if (createdJob.includes(jobId)) {\n        setCreatedJob(true);\n      }\n    }).catch(error => console.error(error));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"vertical\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"grid-container\", {\n      children: [/*#__PURE__*/_jsxDEV(\"box1\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Job Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box2\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box3\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Company:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box4\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.company\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box5\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box6\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box7\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Job Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box8\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box9\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Contact Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box10\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box11\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Company Website: (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box12\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: Job.website\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box13\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Posting Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"box14\", {\n        children: /*#__PURE__*/_jsxDEV(\"grid-item\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: dateFormat(Job.date, \"yyyy-mm-dd\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), !created && /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"horizontal\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button\",\n        onClick: () => {\n          if (user) {\n            favoriteJob();\n          } else {\n            navigate(\"/loginsignup\");\n          }\n        },\n        children: buttonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }, this), created && /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"horizontal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button\",\n        onClick: () => {\n          favoriteJob();\n        },\n        children: buttonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button\",\n        onClick: () => navigate(\"/edit/\" + jobId),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"button\",\n        onClick: () => {\n          axios.delete('/api/job/delete/' + jobId).then(response => {\n            console.log(response);\n            navigate(-1);\n          }).catch(error => console.error(error));\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n}\n\n_s(JobDetail, \"lZMc9QaCr7ErWL/7aGX9pUjacJA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = JobDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"JobDetail\");","map":{"version":3,"sources":["/Users/xiaochenma/Desktop/xiaochen-ma-botao-shi-project3/src/component/JobDetail.jsx"],"names":["React","useEffect","useState","useNavigate","useParams","Navbar","axios","dateFormat","JobDetail","user","setUser","Job","setJob","favorite","setFavorite","buttonText","setButtonText","created","setCreatedJob","jobId","navigate","userLoggedIn","get","then","response","data","catch","error","console","findJob","favoriteJob","post","log","delete","favorites","includes","createdJob","title","company","location","description","email","website","date"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useParams } from 'react-router';\nimport Navbar from './Navbar';\nimport \"../css/Common.css\";\nimport axios from 'axios';\nimport dateFormat from \"dateformat\";\n\n// All good\nexport default function JobDetail () {\n    const [user, setUser] = useState();\n    const [Job, setJob] = useState([]);\n    const [favorite, setFavorite] = useState(0);\n    const [buttonText, setButtonText] = useState('Favorite');\n    const [created, setCreatedJob] = useState(false);\n\n    let { jobId } = useParams();\n    let navigate = useNavigate();\n\n    function userLoggedIn() {\n        axios.get('/api/user/userLoggedIn')\n            .then(response => {\n                setUser(response.data);\n            })\n            .catch(error => console.error(error));\n    }   \n    useEffect(userLoggedIn, []);\n\n    function findJob() {\n        axios.get('http://localhost:8000/api/job/findJobById/' + jobId)\n            .then(response => {\n                setJob(response.data)\n            })\n            .catch(error => console.error(error));\n    }\n\n    useEffect(findJob, []);\n\n    function favoriteJob(){\n        if(favorite === 0){\n            axios.post('/api/user/addFavorite/' + user + '/' + jobId)\n            .then(response => {\n                console.log(response);\n            })\n            .catch(error => console.error(error));\n            setFavorite(1);\n            setButtonText(\"Unfavorite\");\n        }\n        else{\n            axios.delete('/api/user/deleteFavorite/' + user + '/' + jobId)\n            .then(response => {\n                console.log(response);\n            })\n            .catch(error => console.error(error));\n            setFavorite(0);\n            setButtonText(\"Favorite\");\n        }\n    }\n    \n\n    if(user){\n        axios.get('/api/user/findAllFavorites/' + user)\n            .then(response => {\n                let favoriteJob = response.data.favorites;\n                if(favoriteJob.includes(jobId)){\n                    setFavorite(1);\n                }\n            })\n            .catch(error => console.error(error));\n        \n        axios.get('/api/user/findAllCreated/' + user)\n            .then(response => {\n                let createdJob = response.data.created;\n                if(createdJob.includes(jobId)){\n                    setCreatedJob(true);\n                }\n            })\n            .catch(error => console.error(error));\n    }\n\n    return (\n        <div class='vertical'>\n            <Navbar />\n            <grid-container>\n                <box1>\n                    <grid-item>\n                        <h2>Job Title:</h2>\n                    </grid-item>\n                </box1>\n                <box2>\n                    <grid-item>\n                        <h2>{Job.title}</h2>\n                    </grid-item>\n                </box2>\n                <box3>\n                    <grid-item>\n                        <h2>Company:</h2>\n                    </grid-item>\n                </box3>\n                <box4>\n                    <grid-item>\n                        <h2>{Job.company}</h2>\n                    </grid-item>\n                </box4>\n                <box5>\n                    <grid-item>\n                        <h2>Location:</h2>\n                    </grid-item>\n                </box5>\n                <box6>\n                    <grid-item>\n                        <h2>{Job.location}</h2>\n                    </grid-item>\n                </box6>\n                <box7>\n                    <grid-item>\n                        <h2>Job Description:</h2>\n                    </grid-item>\n                </box7>\n                <box8>\n                    <grid-item>\n                        <h2>{Job.description}</h2>\n                    </grid-item>\n                </box8>\n                <box9>\n                    <grid-item>\n                        <h2>Contact Email:</h2>\n                    </grid-item>\n                </box9>\n                <box10>\n                    <grid-item>\n                        <h2>{Job.email}</h2>\n                    </grid-item>\n                </box10>\n                <box11>\n                    <grid-item>\n                        <h2>Company Website: (Optional)</h2>\n                    </grid-item>\n                </box11>\n                <box12>\n                    <grid-item>\n                        <h2>{Job.website}</h2>\n                    </grid-item>\n                </box12>\n                <box13>\n                    <grid-item>\n                        <h2>Posting Date:</h2>\n                    </grid-item>\n                </box13>\n                <box14>\n                    <grid-item>\n                        <h2>{dateFormat(Job.date, \"yyyy-mm-dd\")}</h2>\n                    </grid-item>\n                </box14>\n\n            </grid-container>\n            {!created &&\n                <div class='horizontal'>\n                <button class='button' onClick={() => { \n                    if (user) {\n                        favoriteJob();\n                    }\n                    else {\n                        navigate(\"/loginsignup\"); \n                    }\n                    }}>{buttonText}</button>\n                </div>\n            }\n            {created &&\n                <div class='horizontal'>\n                    <button class='button' onClick={() => {\n                            favoriteJob()\n                        }}>{buttonText}</button>\n                    <button class='button' onClick={() => navigate(\"/edit/\" + jobId)}>Edit</button>\n                    <button class='button' onClick={() => {\n                        axios.delete('/api/job/delete/' + jobId)\n                            .then(response => {\n                                console.log(response);\n                                navigate(-1);\n                            })\n                            .catch(error => console.error(error));\n                    }}>Delete</button>\n                </div>\n            }\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}